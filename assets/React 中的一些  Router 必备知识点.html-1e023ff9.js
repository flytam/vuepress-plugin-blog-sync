import{_ as p,z as o,A as c,Y as n,C as a,U as t,a6 as e,Q as l}from"./framework-cb9358d9.js";const i={},r=n("p",null,[n("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4eb6a01e6564840817b127265b07edd~tplv-k3u1fbpfcp-zoom-1.image",alt:""})],-1),u={href:"https://zoo.team/article/react-router",target:"_blank",rel:"noopener noreferrer"},d=e('<p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/9a150a1399144b15bef33456a8f3ee43~tplv-k3u1fbpfcp-watermark.image" alt="é±¼é±¼.png"></p><h2 id="å‰è¨€" tabindex="-1"><a class="header-anchor" href="#å‰è¨€" aria-hidden="true">#</a> å‰è¨€</h2><p>æ¯æ¬¡å¼€å‘æ–°é¡µé¢çš„æ—¶å€™ï¼Œéƒ½å…ä¸äº†è¦å»è®¾è®¡ä¸€ä¸ªæ–°çš„ URLï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„è·¯ç”±ã€‚å…¶å®è·¯ç”±åœ¨è®¾è®¡çš„æ—¶å€™ä¸ä»…ä»…æ˜¯ä¸€ä¸ªç”±å‡ ä¸ªç®€å•è¯æ±‡å’Œæ–œæ åˆ†éš”ç¬¦ç»„æˆçš„é“¾æ¥ï¼Œå¶å°”ä¹Ÿå¯ä»¥å»è€ƒè™‘æœ‰æ²¡æœ‰æ›´â€œä¼˜é›…â€çš„è®¾è®¡æ–¹å¼å’ŒæŠ€å·§ã€‚è€Œåœ¨è¿™èƒŒåï¼Œè·¯ç”±å’Œç»„ä»¶ä¹‹é—´çš„åä½œå…³ç³»æ˜¯æ€æ ·çš„å‘¢ï¼Ÿäºæ˜¯æˆ‘ä»¥ React ä¸­çš„ Router ä½¿ç”¨æ–¹æ³•ä¸ºä¾‹ï¼Œæ•´ç†äº†ä¸€äº›çŸ¥è¯†ç‚¹å°è®°å’Œå¤§å®¶åˆ†äº«ï½</p><h2 id="react-router" tabindex="-1"><a class="header-anchor" href="#react-router" aria-hidden="true">#</a> React-Router</h2><h3 id="åŸºæœ¬ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•" aria-hidden="true">#</a> åŸºæœ¬ç”¨æ³•</h3>',5),k={href:"https://reactrouter.com/native/guides/quick-start",target:"_blank",rel:"noopener noreferrer"},m=e(`<p>å…¶æœ€åŸºæœ¬ç”¨æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Router<span class="token punctuation">,</span> Route <span class="token punctuation">}</span> from <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>react<span class="token operator">-</span>router<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">(</span>
  <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Router<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span> component<span class="token operator">=</span><span class="token punctuation">{</span>App<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>Router<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
<span class="token punctuation">)</span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>app<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>äº¦æˆ–æ˜¯åµŒå¥—è·¯ç”±ï¼š</p><p>åœ¨ React-Router V4 ç‰ˆæœ¬ä¹‹å‰å¯ä»¥ç›´æ¥åµŒå¥—ï¼Œæ–¹æ³•å¦‚ä¸‹ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Router<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>å¤–å±‚<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
      <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span><span class="token keyword">in</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>å†…å±‚<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
  <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>Route<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>Router<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç†è®ºä¸Šï¼Œç”¨æˆ·è®¿é—® <code>/in</code> æ—¶ï¼Œä¼šå…ˆåŠ è½½ <code>&amp;lt;div&amp;gt;å¤–å±‚&amp;lt;/div&amp;gt;</code>ï¼Œç„¶ååœ¨å®ƒçš„å†…éƒ¨å†åŠ è½½ <code>&amp;lt;div&amp;gt;å†…å±‚&amp;lt;/div&amp;gt;</code>ã€‚</p><p>ç„¶è€Œå®é™…è¿è¡Œä¸Šè¿°ä»£ç å´å‘ç°å®ƒåªæ¸²æŸ“å‡ºäº†æ ¹ç›®å½•ä¸­çš„å†…å®¹ã€‚åç»­å¯¹æ¯” React-Router ç‰ˆæœ¬å‘ç°ï¼Œæ˜¯å› ä¸ºåœ¨ V4 ç‰ˆæœ¬ä¸­å˜æ›´äº†å…¶æ¸²æŸ“é€»è¾‘ï¼ŒåŸå› æ®è¯´æ˜¯ä¸ºäº†è·µè¡Œ React çš„ç»„ä»¶åŒ–ç†å¿µï¼Œä¸èƒ½è®© Route æ ‡ç­¾çœ‹èµ·æ¥åªæ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼ˆå¥‡æ€ªçš„çŸ¥è¯†åˆå¢åŠ äº†ï¼‰ã€‚</p><p>ç°åœ¨è¾ƒæ–°çš„ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Render æ–¹æ³•å®ç°åµŒå¥—ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route
  path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
  render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">(</span>
    <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
      <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route
        path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
        render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>å¤–å±‚<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
      <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route
        path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span><span class="token keyword">in</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
        render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>å†…å±‚<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
      <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>Route
        path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>others<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
        render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>å…¶ä»–<span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">}</span>
      <span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>lt<span class="token punctuation">;</span><span class="token operator">/</span>div<span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
  <span class="token punctuation">)</span><span class="token punctuation">}</span>
<span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶è®¿é—® <code>/in</code> æ—¶ï¼Œä¼šå°†â€œå¤–å±‚â€å’Œâ€œå†…å±‚â€ä¸€èµ·å±•ç¤ºå‡ºæ¥ï¼Œç±»ä¼¼åœ°ï¼Œè®¿é—® <code>/others</code> æ—¶ï¼Œä¼šå°†â€œå¤–å±‚â€å’Œâ€œå…¶ä»–â€ä¸€èµ·å±•ç¤ºå‡ºæ¥ã€‚</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/728d6b95a7654e1bb207521aebfbf0f7~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡"></p><h3 id="è·¯ç”±ä¼ å‚å°-tips" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±ä¼ å‚å°-tips" aria-hidden="true">#</a> è·¯ç”±ä¼ å‚å° Tips</h3><p>åœ¨å®é™…å¼€å‘ä¸­ï¼Œå¾€å¾€åœ¨é¡µé¢åˆ‡æ¢æ—¶éœ€è¦ä¼ é€’ä¸€äº›å‚æ•°ï¼Œæœ‰äº›å‚æ•°é€‚åˆæ”¾åœ¨ Redux ä¸­ä½œä¸ºå…¨å±€æ•°æ®ï¼Œæˆ–è€…é€šè¿‡ä¸Šä¸‹æ–‡ä¼ é€’ï¼Œæ¯”å¦‚ä¸šåŠ¡çš„ä¸€äº›å…±äº«æ•°æ®ï¼Œä½†æœ‰äº›å‚æ•°åˆ™é€‚åˆæ”¾åœ¨ URL ä¸­ä¼ é€’ï¼Œæ¯”å¦‚é¡µé¢ç±»å‹æˆ–è¯¦æƒ…é¡µä¸­å•æ®çš„å”¯ä¸€æ ‡è¯† <code>id</code>ã€‚åœ¨å¤„ç† URL æ—¶ï¼Œé™¤äº†é—®å·å¸¦å‚æ•°çš„æ–¹å¼ï¼ŒReact-Router èƒ½å¸®æˆ‘ä»¬åšä»€ä¹ˆå‘¢ï¼Ÿåœ¨è¿™å…¶ä¸­ï¼ŒRoute ç»„ä»¶çš„ <code>path</code> å±æ€§ä¾¿å¯ç”¨äºæŒ‡å®šè·¯ç”±çš„åŒ¹é…è§„åˆ™ã€‚</p><h4 id="åœºæ™¯-1" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-1" aria-hidden="true">#</a> åœºæ™¯ 1</h4><p>&gt;æè¿°ï¼šå°±æƒ³è®©æ™®æ™®é€šé€šçš„ URL å¸¦ä¸ªå¹³å¹³æ— å¥‡çš„å‚æ•°</p><p>é‚£ä¹ˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å¯ä»¥è¿™æ ·å¹²ï¼š</p><p><strong>Case Aï¼šè·¯ç”±å‚æ•°</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">book</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span>id<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æˆ‘ä»¬å¯ä»¥ç”¨å†’å· + å‚æ•°åå­—çš„æ–¹å¼ï¼Œå°†æƒ³è¦ä¼ é€’çš„å‚æ•°æ·»åŠ åˆ° URL ä¸Šï¼Œæ­¤æ—¶ï¼Œå½“å‚æ•°åå­—ï¼ˆæœ¬ Case ä¸­æ˜¯ idï¼‰å¯¹åº”çš„å€¼æ”¹å˜æ—¶ï¼Œå°†è¢«è®¤ä¸ºæ˜¯ä¸åŒ URLã€‚</p><p><strong>Case Bï¼šæŸ¥è¯¢å‚æ•°</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>book<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœæƒ³è¦åœ¨é¡µé¢è·³è½¬çš„æ—¶å€™é—®å·å¸¦å‚æ•°ï¼Œé‚£ä¹ˆ path å¯ä»¥ç›´æ¥è®¾è®¡æˆæ—¢å®šçš„æ ·å­ï¼Œå‚æ•°ç”±è·³è½¬æ–¹æ‹¼æ¥ã€‚ åœ¨è·³è½¬æ—¶ï¼Œæœ‰ä¸¤ç§å½¢å¼å¸¦ä¸Šå‚æ•°ã€‚å…¶ä¸€æ˜¯åœ¨ Link ç»„ä»¶çš„ to å‚æ•°ä¸­é€šè¿‡é…ç½®å­—ç¬¦ä¸²å¹¶ç”¨é—®å·å¸¦å‚æ•°ï¼Œå…¶äºŒæ˜¯ to å‚æ•°å¯ä»¥æ¥å—ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶ä¸­å¯ä»¥åœ¨ search å­—æ®µä¸­é…ç½®æƒ³è¦ä¼ é€’çš„å‚æ•°ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token entity named-entity" title="&lt;">&amp;lt;</span>Link to<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token operator">/</span>book<span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">111</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span> <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
<span class="token comment">// æˆ–è€…</span>
<span class="token entity named-entity" title="&lt;">&amp;lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
  <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token entity" title="&#39;">&amp;#39;</span><span class="token operator">/</span>book<span class="token entity" title="&#39;">&amp;#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">search</span><span class="token operator">:</span> <span class="token entity" title="&#39;">&amp;#39;</span><span class="token operator">?</span>id<span class="token operator">=</span><span class="token number">111</span><span class="token entity" title="&#39;">&amp;#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ­¤æ—¶ï¼Œå‡è®¾å½“å‰é¡µé¢ URLä¸­çš„ id ç”±111 ä¿®æ”¹ä¸º 222 æ—¶ï¼Œè¯¥è·¯ç”±å¯¹åº”çš„ç»„ä»¶ï¼ˆåœ¨ä¸Šè¿°ä¾‹å­ä¸­å°±æ˜¯ React-Route é…ç½®æ—¶ <code>path=&amp;quot;/book&amp;quot;</code> å¯¹åº”çš„é¡µé¢/ç»„ä»¶ ï¼‰<strong>ä¼šæ›´æ–°</strong>ï¼Œå³æ‰§è¡Œ componentDidUpdate æ–¹æ³•ï¼Œä½†<strong>ä¸ä¼šè¢«å¸è½½</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä¼šæ‰§è¡Œ componentDidMount æ–¹æ³•ã€‚</p><p><strong>Case Cï¼šæŸ¥è¯¢å‚æ•°éšèº«å¼å¸¦æ³•</strong></p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>path<span class="token operator">=</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>book<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>path ä¾æ—§è®¾è®¡æˆæ—¢å®šçš„æ ·å­ï¼Œè€Œåœ¨è·³è½¬æ—¶ï¼Œå¯ä»¥é€šè¿‡ Link ä¸­çš„ state å°†å‚æ•°ä¼ é€’ç»™å¯¹åº”è·¯ç”±çš„é¡µé¢ã€‚</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token entity named-entity" title="&lt;">&amp;lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
  <span class="token literal-property property">pathname</span><span class="token operator">:</span> <span class="token entity" title="&#39;">&amp;#39;</span><span class="token operator">/</span>book<span class="token entity" title="&#39;">&amp;#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">state</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token number">111</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä½†ä¸€å®šè¦æ³¨æ„çš„æ˜¯ï¼Œå°½ç®¡è¿™ç§æ–¹å¼ä¸‹æŸ¥è¯¢å‚æ•°ä¸ä¼šæ˜æ–‡ä¼ é€’äº†ï¼Œä½†æ­¤æ—¶é¡µé¢åˆ·æ–°ä¼šå¯¼è‡´å‚æ•°ä¸¢å¤±ï¼ˆå­˜å‚¨åœ¨ state ä¸­çš„é€šç—…ï¼‰ï¼ŒSoï¼Œç°å¸¸ä¸æ¨è~~ï¼ˆå…¶å®ä¸æƒ³æ˜æ–‡å¯ä»¥è¿›è¡ŒåŠ å¯†å¤„ç†ï¼Œä½†ä¸€èˆ¬æƒ…å†µä¸‹æ•æ„Ÿä¿¡æ¯æ˜¯ä¸å»ºè®®æ”¾åœ¨ URL ä¸­ä¼ é€’çš„ï½ï¼‰</p><h4 id="åœºæ™¯-2" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-2" aria-hidden="true">#</a> åœºæ™¯ 2</h4><p>&gt;æè¿°ï¼šç¼–è¾‘/è¯¦æƒ…é¡µï¼Œæƒ³è¦å…±ç”¨ä¸€ä¸ªé¡µé¢ï¼ŒURL ç”±ä¸åŒçš„å‚æ•°åŒºåˆ†ï¼Œæ­¤æ—¶æˆ‘ä»¬å¸Œæœ›ï¼Œå‚æ•°å¿…é¡»ä¸º editã€detailã€add ä¸­çš„ 1 ä¸ªï¼Œä¸ç„¶éœ€è¦è·³è½¬åˆ° 404 Not Found é¡µé¢ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>path<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">book</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span><span class="token function">pageType</span><span class="token punctuation">(</span>edit<span class="token operator">|</span>detail<span class="token operator">|</span>add<span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>å¦‚æœä¸åŠ æ‹¬å·ä¸­çš„å†…å®¹ <code>(edit|detail|add)</code>ï¼Œå½“ä¼ å…¥é”™è¯¯çš„å‚æ•°ï¼ˆæ¯”å¦‚ç”¨æˆ·è¯¯æ“ä½œã€éšä¾¿æ‹¼æ¥ URL çš„æƒ…å†µï¼‰ï¼Œåˆ™é¡µé¢ä¸ä¼šè¢« 404 æ‹¦æˆªï¼Œè€Œæ˜¯ç»§ç»­èµ°ä¸‹å»å¼€å§‹æ¸²æŸ“é¡µé¢æˆ–è°ƒç”¨æ¥å£ï¼Œä½†æ­¤æ—¶å¾ˆæœ‰å¯èƒ½å¯¼è‡´æ¥å£ä¼ å‚é”™è¯¯æˆ–é¡µé¢å‡ºé”™ã€‚</p><h4 id="åœºæ™¯-3" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-3" aria-hidden="true">#</a> åœºæ™¯ 3</h4><p>&gt;æè¿°ï¼šæ–°å¢é¡µå’Œç¼–è¾‘é¡µè¾£ä¹ˆåƒï¼Œæˆ‘çš„æ–°å¢é¡µä¹Ÿæƒ³å’Œç¼–è¾‘/è¯¦æƒ…å…±ç”¨ä¸€ä¸ªé¡µé¢ã€‚ä½†æ˜¯æ–°å¢é¡µä¸éœ€è¦ idï¼Œç¼–è¾‘/è¯¦æƒ…é¡µéœ€è¦ idï¼Œä½¿ç”¨åŒä¸€ä¸ªé¡µé¢æ€ä¹ˆåŠï¼Ÿ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>path<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">book</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span><span class="token function">pageType</span><span class="token punctuation">(</span>edit<span class="token operator">|</span>detail<span class="token operator">|</span>add<span class="token punctuation">)</span><span class="token operator">/</span><span class="token operator">:</span>id<span class="token operator">?</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>åˆ«æ€¥ï¼Œå¯ä»¥ç”¨ <code>?</code> æ¥è§£å†³ï¼Œå®ƒæ„å‘³ç€ id ä¸æ˜¯ä¸€ä¸ªå¿…è¦å‚æ•°ï¼Œå¯ä¼ å¯ä¸ä¼ ã€‚</p><h4 id="åœºæ™¯-4" tabindex="-1"><a class="header-anchor" href="#åœºæ™¯-4" aria-hidden="true">#</a> åœºæ™¯ 4</h4><p>&gt;æè¿°ï¼šæˆ‘çš„ id åªèƒ½æ˜¯æ•°å­—ï¼Œä¸æƒ³è¦å­—ç¬¦ä¸²æ€ä¹ˆåŠï¼Ÿ</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>path<span class="token operator">=</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">book</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span><span class="token function">id</span><span class="token punctuation">(</span>\\\\\\d<span class="token operator">+</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>æ­¤æ—¶ id ä¸æ˜¯æ•°å­—æ—¶ï¼Œä¼šè·³è½¬ 404ï¼Œè¢«è®¤ä¸º URL å¯¹åº”çš„é¡µé¢æ‰¾ä¸åˆ°å•¦ã€‚</p><h4 id="åº•å±‚ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#åº•å±‚ä¾èµ–" aria-hidden="true">#</a> åº•å±‚ä¾èµ–</h4>`,42),v={href:"https://github.com/pillarjs/path-to-regexp/tree/v1.7.0",target:"_blank",rel:"noopener noreferrer"},g=e(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> pathToRegexp <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>path<span class="token operator">-</span>to<span class="token operator">-</span>regexp<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token comment">// pathToRegexp(path, keys, options)</span>
<span class="token comment">// ç¤ºä¾‹</span>
<span class="token keyword">var</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token function">pathToRegexp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">foo</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span>bar<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> keys<span class="token punctuation">)</span>
<span class="token comment">// re = /^\\/foo\\/([^\\/]+?)\\/?$/i</span>
<span class="token comment">// keys = [{ name: &amp;#39;bar&amp;#39;, prefix: &amp;#39;/&amp;#39;, delimiter: &amp;#39;/&amp;#39;, optional: false, repeat: false, pattern: &amp;#39;[^\\\\/]+?&amp;#39; }]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>&gt;delimiterï¼šé‡å¤å‚æ•°çš„å®šç•Œç¬¦ï¼Œé»˜è®¤æ˜¯ &#39;/&#39;ï¼Œå¯é…ç½®</p><p>ä¸€äº›å…¶ä»–å¸¸ç”¨çš„è·¯ç”±æ­£åˆ™é€šé…ç¬¦ï¼š</p><ul><li><p>? å¯é€‰å‚æ•°</p></li><li><p>* åŒ¹é… 0 æ¬¡æˆ–å¤šæ¬¡</p></li><li><p>+ åŒ¹é… 1 æ¬¡æˆ–å¤šæ¬¡</p></li></ul><p>å¦‚æœå¿˜è®°å†™å‚æ•°åå­—ï¼Œè€Œåªå†™äº†è·¯ç”±è§„åˆ™ï¼Œæ¯”å¦‚ä¸‹è¿°ä»£ç ä¸­ <code>/:foo</code> åé¢çš„å‚æ•°ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">var</span> re <span class="token operator">=</span> <span class="token function">pathToRegexp</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">:</span>foo<span class="token operator">/</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token operator">*</span><span class="token punctuation">)</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> keys<span class="token punctuation">)</span>
<span class="token comment">// åŒ¹é…é™¤â€œ\\nâ€ä¹‹å¤–çš„ä»»ä½•å­—ç¬¦</span>
<span class="token comment">// keys = [{ name: &amp;#39;foo&amp;#39;, ... }, { name: 0, ...}]</span>
re<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token operator">/</span>test<span class="token operator">/</span>route<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span>
<span class="token comment">//=&amp;gt; [&amp;#39;/test/route&amp;#39;, &amp;#39;test&amp;#39;, &amp;#39;route&amp;#39;]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®ƒä¹Ÿä¼šè¢«æ­£ç¡®è§£æï¼Œåªä¸è¿‡åœ¨æ–¹æ³•å¤„ç†çš„å†…éƒ¨ï¼Œæœªå‘½åçš„å‚æ•°åä¼šè¢«æ›¿æ¢æˆæ•°ç»„ä¸‹æ ‡ã€‚</p><h3 id="å–è·¯ç”±å‚æ•°" tabindex="-1"><a class="header-anchor" href="#å–è·¯ç”±å‚æ•°" aria-hidden="true">#</a> å–è·¯ç”±å‚æ•°</h3><p>path å¸¦çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ <code>this.props.match</code> è·å–</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// url ä¸º /book/:pageType(edit|detail|add)</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> match <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> pageType <span class="token punctuation">}</span> <span class="token operator">=</span> match<span class="token punctuation">.</span>params<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ç”±äºæœ‰ #ï¼Œ# ä¹‹åçš„æ‰€æœ‰å†…å®¹éƒ½ä¼šè¢«è®¤ä¸ºæ˜¯ hash çš„ä¸€éƒ¨åˆ†ï¼Œwindow.location.search æ˜¯å–ä¸åˆ°é—®å·å¸¦çš„å‚æ•°çš„ã€‚</p><p>æ¯”å¦‚ï¼šhttp://aaa.bbb.com/book-center/#/book/list?id=123</p><p>é‚£ä¹ˆåœ¨ React-Router ä¸­ï¼Œé—®å·å¸¦çš„å‚æ•°ï¼Œå¯ä»¥é€šè¿‡ <code>this.props.location</code> ï¼ˆå®˜æ–¹å¢™æ¨ ğŸ‘ï¼‰è·å–ã€‚ä¸ªäººç†è§£æ˜¯å› ä¸º React-Router å¸®æˆ‘ä»¬åšäº†å¤„ç†ï¼Œé€šè¿‡è·¯ç”±å’Œ hash å€¼ï¼ˆwindow.location.hashï¼‰åšäº†è§£æçš„å°è£…ã€‚</p><p>ä¾‹å¦‚ï¼š</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">// url ä¸º /book?pageType=edit</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> location <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>
<span class="token keyword">const</span> searchParams <span class="token operator">=</span> location<span class="token punctuation">.</span>search<span class="token punctuation">;</span> <span class="token comment">// ?pageType=edit</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®é™…æ‰“å° props å‚æ•°å‘ç°ï¼Œ<code>this.props.history.location</code> ä¹Ÿå¯ä»¥å–åˆ°é—®å·å‚æ•°ï¼Œä½†ä¸å»ºè®®ä½¿ç”¨ï¼Œå› ä¸º React çš„ç”Ÿå‘½å‘¨æœŸï¼ˆcomponentWillReceivePropsã€componentDidUpdateï¼‰å¯èƒ½ä½¿å®ƒå˜å¾—ä¸å¯é ã€‚ï¼ˆåŸå› å¯å‚è€ƒï¼šhttps://blog.csdn.net/zrq1210/article/details/108403772ï¼‰</p><p>åœ¨æ—©æœŸçš„ React-Router 2.0 ç‰ˆæœ¬æ˜¯å¯ä»¥ç”¨ location.query.pageType æ¥è·å–å‚æ•°çš„ï¼Œä½†æ˜¯ V4.0 å»æ‰äº†ï¼ˆæœ‰äººè®¤ä¸ºæŸ¥è¯¢å‚æ•°ä¸æ˜¯ URL çš„ä¸€éƒ¨åˆ†ï¼Œæœ‰äººè®¤ä¸ºç°åœ¨æœ‰å¾ˆå¤šç¬¬ä¸‰æ–¹åº“ï¼Œäº¤ç»™å¼€å‘è€…è‡ªå·±å»è§£æä¼šæ›´å¥½ï¼Œæœ‰ä¸ªå¯¹æ­¤è®¨è®ºçš„ Issueï¼Œæœ‰å…´è¶£çš„å¯ä»¥è‡ªè¡Œè·å– ğŸ˜Š https://github.com/ReactTraining/react-router/issues/4410ï¼‰</p><p>é’ˆå¯¹ä¸Šä¸€èŠ‚ä¸­åœºæ™¯ 1 çš„ Case Cï¼ŒæŸ¥è¯¢å‚æ•°éšèº«å¼å¸¦æ³•æ—¶ï¼ˆä» state é‡Œå¸¦è¿‡å»çš„ï¼‰ï¼Œåœ¨ <code>this.props.location.state</code> é‡Œå¯ä»¥å–åˆ°ï¼ˆä¸æ¨èä¸æ¨èä¸æ¨èï¼Œåˆ·æ–°ä¼šæ²¡ï½ï¼‰</p><h3 id="switch" tabindex="-1"><a class="header-anchor" href="#switch" aria-hidden="true">#</a> Switch</h3><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token entity named-entity" title="&lt;">&amp;lt;</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span>
  <span class="token entity named-entity" title="&lt;">&amp;lt;</span>Route
    path<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">router</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span>type<span class="token entity named-entity" title="&quot;">&amp;quot;</span>
    render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span> <span class="token entity named-entity" title="&lt;">&amp;lt;</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span>å½±åƒ<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span><span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
  <span class="token entity named-entity" title="&lt;">&amp;lt;</span>Route
    path<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token operator">/</span>router<span class="token operator">/</span>book<span class="token entity named-entity" title="&quot;">&amp;quot;</span>
    render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span> <span class="token entity named-entity" title="&lt;">&amp;lt;</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span>å›¾ä¹¦<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span><span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœ <code>&amp;lt;Route /&amp;gt;</code> æ˜¯å¹³é“ºçš„ï¼ˆç”¨ <code>div</code> åŒ…è£¹æ˜¯å› ä¸º Router ä¸‹åªèƒ½æœ‰ä¸€ä¸ªå…ƒç´ ï¼‰ï¼Œè¾“å…¥ <code>/router/book</code> åˆ™å½±åƒå’Œå›¾ä¹¦éƒ½ä¼šè¢«æ¸²æŸ“å‡ºæ¥ï¼Œå¦‚æœæƒ³è¦åªç²¾ç¡®æ¸²æŸ“å…¶ä¸­ä¸€ä¸ªï¼Œåˆ™éœ€è¦ Switch</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token entity named-entity" title="&lt;">&amp;lt;</span>Switch<span class="token entity named-entity" title="&gt;">&amp;gt;</span>
  <span class="token entity named-entity" title="&lt;">&amp;lt;</span>Route
    path<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">router</span><span class="token regex-delimiter">/</span></span><span class="token operator">:</span>type<span class="token entity named-entity" title="&quot;">&amp;quot;</span>
    render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span> <span class="token entity named-entity" title="&lt;">&amp;lt;</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span>å½±åƒ<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span><span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
  <span class="token entity named-entity" title="&lt;">&amp;lt;</span>Route
    path<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token operator">/</span>router<span class="token operator">/</span>book<span class="token entity named-entity" title="&quot;">&amp;quot;</span>
    render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span> <span class="token entity named-entity" title="&lt;">&amp;lt;</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span>å›¾ä¹¦<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>div<span class="token entity named-entity" title="&gt;">&amp;gt;</span><span class="token punctuation">}</span>
  <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>Switch<span class="token entity named-entity" title="&gt;">&amp;gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Switch çš„æ„æ€ä¾¿æ˜¯ç²¾å‡†çš„æ ¹æ®ä¸åŒçš„ path æ¸²æŸ“ä¸åŒ Route ä¸‹çš„ç»„ä»¶ã€‚ ä½†æ˜¯ï¼ŒåŠ äº† Switch ä¹‹åè·¯ç”±åŒ¹é…è§„åˆ™æ˜¯ä»ä¸Šåˆ°ä¸‹æ‰§è¡Œï¼Œä¸€æ—¦å‘ç°åŒ¹é…ï¼Œå°±ä¸å†åŒ¹é…å…¶ä½™çš„è§„åˆ™äº†ã€‚å› æ­¤åœ¨ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦â€œç™¾èˆ¬å°å¿ƒâ€ã€‚</p><p>ä¸Šé¢ä»£ç ä¸­ï¼Œç”¨æˆ·è®¿é—® <code>/router/book</code> æ—¶ï¼Œä¸ä¼šè§¦å‘ç¬¬äºŒä¸ªè·¯ç”±è§„åˆ™ï¼ˆä¸ä¼š å±•ç¤ºâ€œå›¾ä¹¦â€ï¼‰ï¼Œå› ä¸ºå®ƒä¼šåŒ¹é… <code>/router/:type</code> è¿™ä¸ªè§„åˆ™ã€‚å› æ­¤ï¼Œå¸¦å‚æ•°çš„è·¯å¾„ä¸€èˆ¬è¦å†™åœ¨è·¯ç”±è§„åˆ™çš„åº•éƒ¨ã€‚</p><h3 id="è·¯ç”±çš„åŸºæœ¬åŸç†" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±çš„åŸºæœ¬åŸç†" aria-hidden="true">#</a> è·¯ç”±çš„åŸºæœ¬åŸç†</h3><p>è·¯ç”±åšçš„äº‹æƒ…ï¼šç®¡æ§ URL å˜åŒ–ï¼Œæ”¹å˜æµè§ˆå™¨ä¸­çš„åœ°å€ã€‚</p><p>Router åšçš„äº‹æƒ…ï¼šURL æ”¹å˜æ—¶ï¼Œè§¦å‘æ¸²æŸ“ï¼Œæ¸²æŸ“å¯¹åº”çš„ç»„ä»¶ã€‚</p><p>URL æœ‰ä¸¤ç§ï¼Œä¸€ç§ä¸å¸¦ #ï¼Œä¸€ç§å¸¦ #ï¼Œåˆ†åˆ«å¯¹åº” Browse æ¨¡å¼å’Œ Hash æ¨¡å¼ã€‚</p><p>ä¸€èˆ¬å•é¡µåº”ç”¨ä¸­ï¼Œæ”¹å˜ URLï¼Œä½†æ˜¯ä¸é‡æ–°åŠ è½½é¡µé¢çš„æ–¹å¼æœ‰ä¸¤ç±»ï¼š</p><p><strong>Case 1</strong>ï¼ˆä¼šè§¦å‘è·¯ç”±ç›‘å¬äº‹ä»¶ï¼‰ï¼šç‚¹å‡» å‰è¿›ã€åé€€ï¼Œæˆ–è€…è°ƒç”¨çš„ history.back( )ã€history.forward( )</p><p><strong>Case 2</strong>ï¼ˆä¸ä¼šè§¦å‘è·¯ç”±ç›‘å¬äº‹ä»¶ï¼‰ï¼šç»„ä»¶ä¸­è°ƒç”¨ history.push( ) å’Œ history.replace( )</p>`,32),h={href:"https://blog.csdn.net/zl_alien/article/details/109231294",target:"_blank",rel:"noopener noreferrer"},b=e(`<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/17fafcbe7db443aeabc17154335d782d~tplv-k3u1fbpfcp-zoom-1.image" alt="å›¾ç‰‡"></p><p>&gt;å›¾ç‰‡æ¥æºï¼šã€Œæºç è§£æ ã€è¿™ä¸€æ¬¡å½»åº•å¼„æ‡‚ React-Router è·¯ç”±åŸç†</p><h3 id="browser-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#browser-æ¨¡å¼" aria-hidden="true">#</a> Browser æ¨¡å¼</h3><p><strong>Case 1:</strong></p><p>URL æ”¹å˜ï¼Œè§¦å‘è·¯ç”±çš„ç›‘å¬äº‹ä»¶ <code>popstate</code>ï¼Œthenï¼Œç›‘å¬äº‹ä»¶çš„å›è°ƒå‡½æ•° <code>handlePopState</code> åœ¨å›è°ƒä¸­è§¦å‘ history çš„ <code>setState</code> æ–¹æ³•ï¼Œäº§ç”Ÿæ–°çš„ location å¯¹è±¡ã€‚state æ”¹å˜ï¼Œé€šçŸ¥ Router ç»„ä»¶æ›´æ–° <code>location</code> å¹¶é€šè¿‡ context ä¸Šä¸‹æ–‡ä¼ é€’ï¼ŒåŒ¹é…å‡ºç¬¦åˆçš„ Route ç»„ä»¶ï¼Œæœ€åç”± <code>&amp;lt;Route /&amp;gt;</code> ç»„ä»¶å–å‡ºå¯¹åº”å†…å®¹ï¼Œä¼ é€’ç»™æ¸²æŸ“é¡µé¢ï¼Œæ¸²æŸ“æ›´æ–°ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token comment">/* ç®€åŒ–ç‰ˆçš„ handlePopState ï¼ˆç›‘å¬äº‹ä»¶çš„å›è°ƒï¼‰ */</span>
<span class="token keyword">const</span> handlePopState <span class="token operator">=</span> <span class="token punctuation">(</span>event<span class="token punctuation">)</span><span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">{</span>
     <span class="token comment">/* è·å–å½“å‰locationå¯¹è±¡ */</span>
    <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">getDOMLocation</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>state<span class="token punctuation">)</span>
    <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token constant">POP</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>
     <span class="token comment">/* transitionManager å¤„ç†è·¯ç”±è½¬æ¢ */</span>
    transitionManager<span class="token punctuation">.</span><span class="token function">confirmTransitionTo</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span> action<span class="token punctuation">,</span> getUserConfirmation<span class="token punctuation">,</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> action<span class="token punctuation">,</span> location <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          <span class="token function">revertPop</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Case 2:</strong> ä»¥ history.push ä¸ºä¾‹ï¼Œé¦–å…ˆä¾æ®ä½ è¦è·³è½¬çš„ path åˆ›å»ºä¸€ä¸ªæ–°çš„ <code>location</code> å¯¹è±¡ï¼Œç„¶åé€šè¿‡ <code>window.history.pushState</code> ï¼ˆH5 æä¾›çš„ API ï¼‰æ–¹æ³•æ”¹å˜æµè§ˆå™¨å½“å‰è·¯ç”±ï¼ˆå³å½“å‰çš„ urlï¼‰ï¼Œæœ€åé€šè¿‡ <code>setState</code> æ–¹æ³•é€šçŸ¥ Routerï¼Œè§¦å‘ç»„ä»¶æ›´æ–°ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">const</span> push <span class="token operator">=</span> <span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">{</span>
   <span class="token keyword">const</span> action <span class="token operator">=</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token constant">PUSH</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>
   <span class="token comment">/* åˆ›å»ºlocationå¯¹è±¡ */</span>
   <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">createLocation</span><span class="token punctuation">(</span>path<span class="token punctuation">,</span> state<span class="token punctuation">,</span> <span class="token function">createKey</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> history<span class="token punctuation">.</span>location<span class="token punctuation">)</span>
   <span class="token comment">/* ç¡®å®šæ˜¯å¦èƒ½è¿›è¡Œè·¯ç”±è½¬æ¢ */</span>
   transitionManager<span class="token punctuation">.</span><span class="token function">confirmTransitionTo</span><span class="token punctuation">(</span>location<span class="token punctuation">,</span> action<span class="token punctuation">,</span> getUserConfirmation<span class="token punctuation">,</span> <span class="token punctuation">(</span>ok<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> <span class="token punctuation">{</span>
   <span class="token operator">...</span> <span class="token comment">// æ­¤å¤„çœç•¥éƒ¨åˆ†ä»£ç </span>
   <span class="token keyword">const</span> href <span class="token operator">=</span> <span class="token function">createHref</span><span class="token punctuation">(</span>location<span class="token punctuation">)</span>
   <span class="token keyword">const</span> <span class="token punctuation">{</span> key<span class="token punctuation">,</span> state <span class="token punctuation">}</span> <span class="token operator">=</span> location
   <span class="token keyword">if</span> <span class="token punctuation">(</span>canUseHistory<span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token comment">/* æ”¹å˜ url */</span>
     globalHistory<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> key<span class="token punctuation">,</span> state <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> href<span class="token punctuation">)</span>
     <span class="token keyword">if</span> <span class="token punctuation">(</span>forceRefresh<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> href
     <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
       <span class="token comment">/* æ”¹å˜ react-router locationå¯¹è±¡, åˆ›å»ºæ›´æ–°ç¯å¢ƒ */</span>
       <span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span> action<span class="token punctuation">,</span> location <span class="token punctuation">}</span><span class="token punctuation">)</span>
     <span class="token punctuation">}</span>
   <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
     window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>href <span class="token operator">=</span> href
   <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="hash-æ¨¡å¼" tabindex="-1"><a class="header-anchor" href="#hash-æ¨¡å¼" aria-hidden="true">#</a> Hash æ¨¡å¼</h3><p><strong>Case 1:</strong></p><p>å¢åŠ ç›‘å¬ï¼Œå½“ URL çš„ Hash å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘ hashChange æ³¨å†Œçš„å›è°ƒï¼Œå›è°ƒä¸­å»è¿›è¡Œç›¸ç±»ä¼¼çš„æ“ä½œï¼Œè¿›è€Œå±•ç¤ºä¸åŒçš„å†…å®¹ã€‚</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>hashchange<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">/* ç›‘å¬æ”¹å˜ */</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>Case 2:</strong><code>history.push</code> åº•å±‚è°ƒç”¨ <code>window.location.hash</code> æ¥æ”¹å˜è·¯ç”±ã€‚<code>history.replace</code> åº•å±‚æ˜¯è°ƒç”¨ <code>window.location.replace</code> æ”¹å˜è·¯ç”±ã€‚ç„¶å setState é€šçŸ¥æ”¹å˜ã€‚</p><p>ä»ä¸€äº›å‚è€ƒèµ„æ–™ä¸­æ˜¾ç¤ºï¼Œå‡ºäºå…¼å®¹æ€§çš„è€ƒè™‘ï¼ˆH5 çš„æ–¹æ³• IE10 ä»¥ä¸‹ä¸å…¼å®¹ï¼‰ï¼Œè·¯ç”±ç³»ç»Ÿå†…éƒ¨å°† Hash æ¨¡å¼ä½œä¸ºåˆ›å»º History å¯¹è±¡çš„é»˜è®¤æ–¹æ³•ã€‚ï¼ˆæ­¤å¤„è‹¥æœ‰ç–‘è®®ï¼Œæ¬¢è¿æŒ‡æ­£ï½ï¼‰</p><h2 id="dva-router" tabindex="-1"><a class="header-anchor" href="#dva-router" aria-hidden="true">#</a> Dva/Router</h2><p>åœ¨å®é™…é¡¹ç›®ä¸­å‘ç°ï¼ŒLinkï¼ŒRoute éƒ½æ˜¯ä» <code>dva/router</code> ä¸­å¼•è¿›æ¥çš„ï¼Œé‚£ä¹ˆï¼ŒDva åœ¨è¿™ä¹‹ä¸­åšäº†ä»€ä¹ˆå‘¢ï¼Ÿ</p>`,16),y={href:"https://github.com/ReactTraining/react-router",target:"_blank",rel:"noopener noreferrer"},f=n("h2",{id:"æˆ‘ä»¬å¯¹-router-åšè¿‡çš„ä¸€äº›å¤„ç†",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æˆ‘ä»¬å¯¹-router-åšè¿‡çš„ä¸€äº›å¤„ç†","aria-hidden":"true"},"#"),a(" æˆ‘ä»¬å¯¹ Router åšè¿‡çš„ä¸€äº›å¤„ç†")],-1),x=n("p",null,[n("strong",null,"Case 1:")],-1),R=n("p",null,"é¡¹ç›®ä»£ç çš„ src ç›®å½•ä¸‹ï¼Œä¸ç®¡æœ‰å¤šå°‘æ–‡ä»¶å¤¹ï¼Œè·¯ç”±ä¸€èˆ¬ä¼šæ”¾åœ¨åŒä¸€ä¸ª router.js æ–‡ä»¶ä¸­ç»´æŠ¤ï¼Œä½†è¿™æ ·ä¼šå¯¼è‡´é¡µé¢å¤ªå¤šæ—¶ï¼Œæ–‡ä»¶å†…å®¹ä¼šè¶Šæ¥è¶Šé•¿ï¼Œä¸ä¾¿äºæŸ¥æ‰¾å’Œä¿®æ”¹ã€‚",-1),_={href:"https://juejin.cn/post/6968988552075952141",target:"_blank",rel:"noopener noreferrer"},j=e(`<p><strong>Case 2:</strong></p><p>è·¯ç”±çš„ Hash æ¨¡å¼è™½ç„¶å…¼å®¹æ€§å¥½ï¼Œä½†æ˜¯ä¹Ÿå­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p><ol><li>å¯¹äº SEOã€å‰ç«¯åŸ‹ç‚¹ä¸å¤ªå‹å¥½ï¼Œä¸å®¹æ˜“åŒºåˆ†è·¯å¾„</li><li>åŸæœ‰é¡µé¢æœ‰é”šç‚¹æ—¶ï¼Œä½¿ç”¨ Hash æ¨¡å¼ä¼šå‡ºç°å†²çª</li></ol><p>å› æ­¤å…¬å¸å†…éƒ¨åšäº†ä¸€æ¬¡ Hash è·¯ç”±è½¬ Browser è·¯ç”±çš„æ”¹é€ ã€‚</p><p>å¦‚åŸæœ‰é“¾æ¥ä¸ºï¼šhttp://aaa.bbb.com/book-center/#/book/list?id=123</p><p>æ”¹é€ æ–¹æ¡ˆä¸ºï¼š</p><p>é€šè¿‡æ–°å¢ä»¥ä¸‹é…ç½®ä»£ç å»æ‰ #</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code><span class="token keyword">import</span> createHistory from <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>history<span class="token operator">/</span>createBrowserHistroy<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token function">dva</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">history</span><span class="token operator">:</span> <span class="token function">createHistory</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">basename</span><span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token operator">/</span>book<span class="token operator">-</span>center<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  onError<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>åŒæ—¶ï¼Œä¸ºäº†é¿å…ç”¨æˆ·è®¿é—®æ—§é¡µé¢å‡ºç° 404 çš„æƒ…å†µï¼Œå‰ç«¯éœ€è¦åœ¨ Redirect ä¸­é…ç½®é‡å®šå‘ä»¥åŠåœ¨ Nginx ä¸­é…ç½®æ—§çš„ Hash é¡µé¢è½¬å‘ã€‚</p><p><strong>Case 3:</strong></p><p>åœ¨å®é™…é¡¹ç›®ä¸­ï¼Œå…¶å®æˆ‘ä»¬ä¹Ÿä¼šå»è€ƒè™‘ç”¨æˆ·æœªæˆæƒæ—¶è·¯ç”±è·³è½¬ã€é¡µé¢ 404 æ—¶è·¯ç”±è·³è½¬ç­‰ä¸åŒæƒ…å†µï¼Œä»¥ä¸‹ Case å’Œä»£ç ä»…ä¾›è¯»è€…å‚è€ƒï½</p><div class="language-jsx line-numbers-mode" data-ext="jsx"><pre class="language-jsx"><code><span class="token entity named-entity" title="&lt;">&amp;lt;</span>Switch<span class="token entity named-entity" title="&gt;">&amp;gt;</span>
  <span class="token punctuation">{</span>
    <span class="token function">getRoutes</span><span class="token punctuation">(</span>match<span class="token punctuation">.</span>path<span class="token punctuation">,</span> routerData<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span>item <span class="token operator">=</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
    	<span class="token punctuation">(</span>
      	<span class="token comment">// ç”¨æˆ·æœªæˆæƒå¤„ç†ï¼ŒAuthorizedRoute ä¸ºé¡¹ç›®ä¸­è‡ªå·±å®ç°çš„å¤„ç†ç»„ä»¶</span>
      	<span class="token entity named-entity" title="&lt;">&amp;lt;</span>AuthorizedRoute
        	<span class="token punctuation">{</span><span class="token operator">...</span>item<span class="token punctuation">}</span>
        	redirectPath<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token operator">/</span>exception<span class="token operator">/</span><span class="token number">403</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span>
      	<span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
    	<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token comment">// é»˜è®¤è·³è½¬é¡µé¢</span>
  <span class="token entity named-entity" title="&lt;">&amp;lt;</span>Redirect from<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token operator">/</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span> exact to<span class="token operator">=</span><span class="token entity named-entity" title="&quot;">&amp;quot;</span><span class="token operator">/</span>list<span class="token entity named-entity" title="&quot;">&amp;quot;</span> <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
  <span class="token comment">// é¡µé¢ 404 å¤„ç†</span>
  <span class="token entity named-entity" title="&lt;">&amp;lt;</span>Route render<span class="token operator">=</span><span class="token punctuation">{</span>props <span class="token operator">=</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span> <span class="token entity named-entity" title="&lt;">&amp;lt;</span>NotFound <span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token entity named-entity" title="&gt;">&amp;gt;</span>
<span class="token entity named-entity" title="&lt;">&amp;lt;</span><span class="token operator">/</span>Switch<span class="token entity named-entity" title="&gt;">&amp;gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="å‚è€ƒé“¾æ¥" tabindex="-1"><a class="header-anchor" href="#å‚è€ƒé“¾æ¥" aria-hidden="true">#</a> å‚è€ƒé“¾æ¥</h2>`,13),w={href:"https://blog.csdn.net/zl_alien/article/details/109231294",target:"_blank",rel:"noopener noreferrer"},q={href:"https://www.cnblogs.com/pqjwyn/p/9936153.html",target:"_blank",rel:"noopener noreferrer"},L={href:"https://aibokalv.oschina.io/myarticle/2017/04/01/20170401%E4%BA%8C%E7%BA%A7%E5%8A%A8%E6%80%81%E8%B7%AF%E7%94%B1%E7%9A%84%E8%A7%A3%E5%86%B3%E6%96%B9%E6%A1%88/",target:"_blank",rel:"noopener noreferrer"},U=n("h2",{id:"æ¨èé˜…è¯»",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ¨èé˜…è¯»","aria-hidden":"true"},"#"),a(" æ¨èé˜…è¯»")],-1),C={href:"https://juejin.cn/post/6984547134062198791",target:"_blank",rel:"noopener noreferrer"},S={href:"https://zoo.team/article/about-vite",target:"_blank",rel:"noopener noreferrer"},T={href:"https://juejin.cn/post/6974184935804534815",target:"_blank",rel:"noopener noreferrer"},E={href:"https://juejin.cn/post/6987140782595506189",target:"_blank",rel:"noopener noreferrer"},H=n("h2",{id:"å¼€æºä½œå“",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#å¼€æºä½œå“","aria-hidden":"true"},"#"),a(" å¼€æºä½œå“")],-1),A=n("ul",null,[n("li",null,"æ”¿é‡‡äº‘å‰ç«¯å°æŠ¥")],-1),B={href:"https://www.zoo.team/openweekly/",target:"_blank",rel:"noopener noreferrer"},z=n("h2",{id:"æ‹›è´¤çº³å£«",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#æ‹›è´¤çº³å£«","aria-hidden":"true"},"#"),a(" æ‹›è´¤çº³å£«")],-1),P=n("p",null,"æ”¿é‡‡äº‘å‰ç«¯å›¢é˜Ÿï¼ˆZooTeamï¼‰ï¼Œä¸€ä¸ªå¹´è½»å¯Œæœ‰æ¿€æƒ…å’Œåˆ›é€ åŠ›çš„å‰ç«¯å›¢é˜Ÿï¼Œéš¶å±äºæ”¿é‡‡äº‘äº§å“ç ”å‘éƒ¨ï¼ŒBase åœ¨é£æ™¯å¦‚ç”»çš„æ­å·ã€‚å›¢é˜Ÿç°æœ‰ 40 ä½™ä¸ªå‰ç«¯å°ä¼™ä¼´ï¼Œå¹³å‡å¹´é¾„ 27 å²ï¼Œè¿‘ 3 æˆæ˜¯å…¨æ ˆå·¥ç¨‹å¸ˆï¼Œå¦¥å¦¥çš„é’å¹´é£æš´å›¢ã€‚æˆå‘˜æ„æˆæ—¢æœ‰æ¥è‡ªäºé˜¿é‡Œã€ç½‘æ˜“çš„â€œè€â€å…µï¼Œä¹Ÿæœ‰æµ™å¤§ã€ä¸­ç§‘å¤§ã€æ­ç”µç­‰æ ¡çš„åº”å±Šæ–°äººã€‚å›¢é˜Ÿåœ¨æ—¥å¸¸çš„ä¸šåŠ¡å¯¹æ¥ä¹‹å¤–ï¼Œè¿˜åœ¨ç‰©æ–™ä½“ç³»ã€å·¥ç¨‹å¹³å°ã€æ­å»ºå¹³å°ã€æ€§èƒ½ä½“éªŒã€äº‘ç«¯åº”ç”¨ã€æ•°æ®åˆ†æåŠå¯è§†åŒ–ç­‰æ–¹å‘è¿›è¡ŒæŠ€æœ¯æ¢ç´¢å’Œå®æˆ˜ï¼Œæ¨åŠ¨å¹¶è½åœ°äº†ä¸€ç³»åˆ—çš„å†…éƒ¨æŠ€æœ¯äº§å“ï¼ŒæŒç»­æ¢ç´¢å‰ç«¯æŠ€æœ¯ä½“ç³»çš„æ–°è¾¹ç•Œã€‚",-1),D=n("p",null,[a("å¦‚æœä½ æƒ³æ”¹å˜ä¸€ç›´è¢«äº‹æŠ˜è…¾ï¼Œå¸Œæœ›å¼€å§‹èƒ½æŠ˜è…¾äº‹ï¼›å¦‚æœä½ æƒ³æ”¹å˜ä¸€ç›´è¢«å‘Šè¯«éœ€è¦å¤šäº›æƒ³æ³•ï¼Œå´æ— ä»ç ´å±€ï¼›å¦‚æœä½ æƒ³æ”¹å˜ä½ æœ‰èƒ½åŠ›å»åšæˆé‚£ä¸ªç»“æœï¼Œå´ä¸éœ€è¦ä½ ï¼›å¦‚æœä½ æƒ³æ”¹å˜ä½ æƒ³åšæˆçš„äº‹éœ€è¦ä¸€ä¸ªå›¢é˜Ÿå»æ”¯æ’‘ï¼Œä½†æ²¡ä½ å¸¦äººçš„ä½ç½®ï¼›å¦‚æœä½ æƒ³æ”¹å˜æ—¢å®šçš„èŠ‚å¥ï¼Œå°†ä¼šæ˜¯â€œ5 å¹´å·¥ä½œæ—¶é—´ 3 å¹´å·¥ä½œç»éªŒâ€ï¼›å¦‚æœä½ æƒ³æ”¹å˜æœ¬æ¥æ‚Ÿæ€§ä¸é”™ï¼Œä½†æ€»æ˜¯æœ‰é‚£ä¸€å±‚çª—æˆ·çº¸çš„æ¨¡ç³Šâ€¦ å¦‚æœä½ ç›¸ä¿¡ç›¸ä¿¡çš„åŠ›é‡ï¼Œç›¸ä¿¡å¹³å‡¡äººèƒ½æˆå°±éå‡¡äº‹ï¼Œç›¸ä¿¡èƒ½é‡åˆ°æ›´å¥½çš„è‡ªå·±ã€‚å¦‚æœä½ å¸Œæœ›å‚ä¸åˆ°éšç€ä¸šåŠ¡è…¾é£çš„è¿‡ç¨‹ï¼Œäº²æ‰‹æ¨åŠ¨ä¸€ä¸ªæœ‰ç€æ·±å…¥çš„ä¸šåŠ¡ç†è§£ã€å®Œå–„çš„æŠ€æœ¯ä½“ç³»ã€æŠ€æœ¯åˆ›é€ ä»·å€¼ã€å½±å“åŠ›å¤–æº¢çš„å‰ç«¯å›¢é˜Ÿçš„æˆé•¿å†ç¨‹ï¼Œæˆ‘è§‰å¾—æˆ‘ä»¬è¯¥èŠèŠã€‚ä»»ä½•æ—¶é—´ï¼Œç­‰ç€ä½ å†™ç‚¹ä»€ä¹ˆï¼Œå‘ç»™ "),n("code",null,"ZooTeam@cai-inc.com")],-1),V=n("p",null,[n("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98d3aa3d1f8646a8bcda8cfd9e335a4b~tplv-k3u1fbpfcp-zoom-1.image",alt:""})],-1);function N(I,M){const s=l("ExternalLinkIcon");return o(),c("div",null,[r,n("p",null,[a("> è¿™æ˜¯ç¬¬ 109 ç¯‡ä¸æºæ°´çš„åŸåˆ›ï¼Œæƒ³è·å–æ›´å¤šåŸåˆ›å¥½æ–‡ï¼Œè¯·æœç´¢å…¬ä¼—å·å…³æ³¨æˆ‘ä»¬å§~ æœ¬æ–‡é¦–å‘äºæ”¿é‡‡äº‘å‰ç«¯åšå®¢ï¼š"),n("a",u,[a("React ä¸­çš„ä¸€äº› Router å¿…å¤‡çŸ¥è¯†ç‚¹"),t(s)])]),d,n("p",null,[a("é€šå¸¸æˆ‘ä»¬ä½¿ç”¨ "),n("a",k,[a("React-Router"),t(s)]),a(" æ¥å®ç° React å•é¡µåº”ç”¨çš„è·¯ç”±æ§åˆ¶ï¼Œå®ƒé€šè¿‡ç®¡ç† URLï¼Œå®ç°ç»„ä»¶çš„åˆ‡æ¢ï¼Œè¿›è€Œå‘ˆç°é¡µé¢çš„åˆ‡æ¢æ•ˆæœã€‚")]),m,n("p",null,[a("æœ‰äº†è¿™ä¹ˆå¤šåœºæ™¯ï¼Œé‚£ Router æ˜¯æ€æ ·å®ç°çš„å‘¢ï¼Ÿå…¶å®å®ƒåº•å±‚æ˜¯ä¾èµ–äº† "),n("a",v,[a("path-to-regexp"),t(s)]),a(" æ–¹æ³•ã€‚")]),g,n("p",null,[a("äºæ˜¯å‚è€ƒ "),n("a",h,[a("ã€Œæºç è§£æ ã€è¿™ä¸€æ¬¡å½»åº•å¼„æ‡‚ React-Router è·¯ç”±åŸç†"),t(s)]),a(" ä¸€æ–‡ï¼Œé’ˆå¯¹ä¸Šè¿°ä¸¤ç§ Caseï¼Œä»¥åŠè¿™ä¸¤ç§ Case åˆ†åˆ«å¯¹åº”çš„ä¸¤ç§æ¨¡å¼ï¼Œä½œå‡ºå¦‚ä¸‹æ€»ç»“ã€‚")]),b,n("p",null,[a("ç­”æ¡ˆï¼šè²Œä¼¼æ²¡æœ‰åšç‰¹æ®Šå¤„ç†ï¼ŒDva åœ¨ React-Router ä¸Šåšäº†ä¸Šå±‚å°è£…ï¼Œä¼šé»˜è®¤è¾“å‡º "),n("a",y,[a("React-Router"),t(s)]),a(" æ¥å£ã€‚")]),f,x,R,n("p",null,[a("å› æ­¤æˆ‘ä»¬å¯ä»¥åšä¸€äº›å°æ”¹é€ ï¼Œåœ¨ src ä¸‹çš„æ¯ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œåˆ›å»ºè‡ªå·±çš„è·¯ç”±é…ç½®æ–‡ä»¶ï¼Œä»¥ä¾¿ç®¡ç†å„è‡ªçš„è·¯ç”±ã€‚ä½†è¿™ç§æƒ…å†µä¸‹ React-Router æ˜¯ä¸èƒ½è¯†åˆ«çš„ï¼Œäºæ˜¯æˆ‘ä»¬å†™äº†ä¸€ä¸ª Plugin æ”¾åœ¨ Webpack ä¸­ï¼Œç›®çš„æ˜¯å°†å„ä¸ªæ–‡ä»¶å¤¹ä¸‹çš„è·¯ç”±æ±‡æ€»ï¼Œå¹¶ç”Ÿæˆ router-config.js æ–‡ä»¶ã€‚ä¹‹åï¼Œå°†è¯¥æ–‡ä»¶ä¸­çš„å†…å®¹è§£ææˆç»„ä»¶éœ€è¦çš„ç›¸å…³å†…å®¹ã€‚æ’ä»¶å®ç°æ–¹å¼å¯äº†è§£æœ¬å›¢é˜Ÿå¦ä¸€ç¯‡æ–‡ç« ï¼š "),n("a",_,[a("æ‰‹æŠŠæ‰‹å¸¦ä½ å…¥é—¨ Webpack Plugin"),t(s)]),a("ã€‚")]),j,n("p",null,[n("a",w,[a("ã€Œæºç è§£æ ã€è¿™ä¸€æ¬¡å½»åº•å¼„æ‡‚react-routerè·¯ç”±åŸç†"),t(s)])]),n("p",null,[n("a",q,[a("react-router v4 è·¯ç”±è§„åˆ™è§£æ"),t(s)])]),n("p",null,[n("a",L,[a("äºŒçº§åŠ¨æ€è·¯ç”±çš„è§£å†³æ–¹æ¡ˆ"),t(s)])]),U,n("p",null,[n("a",C,[a("æœ€ç†Ÿæ‚‰çš„é™Œç”Ÿäººrc-form"),t(s)])]),n("p",null,[n("a",S,[a("Vite ç‰¹æ€§å’Œéƒ¨åˆ†æºç è§£æ"),t(s)])]),n("p",null,[n("a",T,[a("æˆ‘åœ¨å·¥ä½œä¸­æ˜¯å¦‚ä½•ä½¿ç”¨ git çš„"),t(s)])]),n("p",null,[n("a",E,[a("å¦‚ä½•æ­å»ºé€‚åˆè‡ªå·±å›¢é˜Ÿçš„æ„å»ºéƒ¨ç½²å¹³å°"),t(s)])]),H,A,n("p",null,[n("strong",null,[a("å¼€æºåœ°å€ "),n("a",B,[a("www.zoo.team/openweekly/"),t(s)])]),a(" (å°æŠ¥å®˜ç½‘é¦–é¡µæœ‰å¾®ä¿¡äº¤æµç¾¤)")]),z,P,D,V])}const O=p(i,[["render",N],["__file","React ä¸­çš„ä¸€äº›  Router å¿…å¤‡çŸ¥è¯†ç‚¹.html.vue"]]);export{O as default};
