import{_ as c,z as l,A as u,Y as n,C as s,U as a,a0 as i,a6 as t,Q as e}from"./framework-cb9358d9.js";const r={},k=t('<p>本文已参与「[掘力星计划](https://juejin.cn/post/7012210233804079141/ &quot;https://juejin.cn/post/7012210233804079141/&quot;)」，赢取创作大礼包，挑战创作激励金。 <img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d4eb6a01e6564840817b127265b07edd~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><p><img src="https://p1-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4b98cd7c3492439cb2953c97f5abd334~tplv-k3u1fbpfcp-watermark.image?" alt="北渊.png"></p><h2 id="前言" tabindex="-1"><a class="header-anchor" href="#前言" aria-hidden="true">#</a> 前言</h2><p>在我们的工作过程中，每当需要排查问题、跑冒烟用例、看测试环境的效果时，经常需要在浏览器环境中切换登录账号，另外，在开发的过程中，也需要在编辑器 VS Code 里切换代理登录的账号。</p><p>以政采云的业务开发为例：访问测试、预发等不同环境要切账号，切换不同角色身份、不同地理区划、甚至查看有特殊数据时也要切账号……这让我们的工作中充斥了大量的输入账号密码的无效时间，也需要我们额外维护账号文档，非常苦恼。</p><p>关于在 VS Code 编辑器里快捷切换账号的工具，我们已经有同学设计开发过，在后续的文章中会向大家展示。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4261ea051acc4b508ed5f2567ed18485~tplv-k3u1fbpfcp-zoom-1.image" alt="image.png"></p><p>本文将讲述一下如何在浏览器环境，扩展 Chrome 浏览器原有的“记住密码”功能，实现快捷登录、隔离账号信息以及备注标签等方便使用的功能，同事分享给测试、后端、产品等其他的伙伴，提高大家的效率，希望这次探索能给更多的人带来启发。</p><h2 id="需求分析" tabindex="-1"><a class="header-anchor" href="#需求分析" aria-hidden="true">#</a> 需求分析</h2><ul><li>支持账号录入和一键登录，节约输入时间</li><li>对账号进行个性化的 tag 标记，支持增删改查</li><li>隔离不同环境下的账号，解决混用的干扰</li><li>方便查看和数据维护</li><li>友好的 UI 界面</li></ul><h2 id="最终效果预览" tabindex="-1"><a class="header-anchor" href="#最终效果预览" aria-hidden="true">#</a> 最终效果预览</h2><p>主要演示一下插件的位置，其中，删除和置顶是常见功能，就不在这里演示了</p><h3 id="一键登录" tabindex="-1"><a class="header-anchor" href="#一键登录" aria-hidden="true">#</a> 一键登录</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ad213f33bf254352a483b5605794cb58~tplv-k3u1fbpfcp-zoom-1.image" alt=""></p><h3 id="账号录入" tabindex="-1"><a class="header-anchor" href="#账号录入" aria-hidden="true">#</a> 账号录入</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/5fab2ac2fd044a128cbf6c7b9b00d2bb~tplv-k3u1fbpfcp-zoom-1.image" alt="录入账号 (1).gif"></p><h3 id="tag-标记和搜索" tabindex="-1"><a class="header-anchor" href="#tag-标记和搜索" aria-hidden="true">#</a> Tag 标记和搜索</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e33bfb022c7143d49e1faf89af099322~tplv-k3u1fbpfcp-zoom-1.image" alt="打标签.gif"></p><h3 id="弹层里的传送门" tabindex="-1"><a class="header-anchor" href="#弹层里的传送门" aria-hidden="true">#</a> 弹层里的传送门</h3><p>传送门编写在 <code>popup/index.html</code> 目录下，用于提供快捷进入不同环境登录页的入口，用颜色清晰地区别开测试、预发等环境，以及记录辅助系统鲁班的地址。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/1e53bdc7e18d45ba8a8113c3f9fa9e72~tplv-k3u1fbpfcp-zoom-1.image" alt="image (4).png"></p><h2 id="前期设计" tabindex="-1"><a class="header-anchor" href="#前期设计" aria-hidden="true">#</a> 前期设计</h2><h3 id="chrome-扩展程序" tabindex="-1"><a class="header-anchor" href="#chrome-扩展程序" aria-hidden="true">#</a> Chrome 扩展程序</h3>',23),d={href:"https://developer.chrome.com/docs/extensions/",target:"_blank",rel:"noopener noreferrer"},m=t('<p>&gt;扩展是基于 Web 技术构建的，例如 HTML、JavaScript 和 CSS。它们在单独的沙盒执行环境中运行，并与 Chrome 浏览器交互。 &gt;扩展允许您通过使用 API 修改浏览器行为和访问 Web 内容来“扩展”浏览器。</p><p>Chrome 浏览器将会识别包含 <code>manifest.json</code> 文件的目录为扩展文件，所以我们可以开发一个 Chrome Extension 项目来解决这一问题。</p><h3 id="前端技术栈" tabindex="-1"><a class="header-anchor" href="#前端技术栈" aria-hidden="true">#</a> 前端技术栈</h3><p>本次 Chrome 插件选用 React 框架开发，其他开发者也可以根据自己的偏好进行技术选型。</p><p>第一版本的插件能力暂时不接入后端，数据都存在本地。</p><ul><li><p>优点</p><ul><li>天然实现隔离不同域名环境下的数据，避免了测试、预发等环境混用的缺陷。</li><li>如果不手动删除数据，可支持前端长久保存，并随时可以在控制台中查看，分享给其他合作者。</li></ul></li><li><p>缺点</p><ul><li>统一使用者针对不同浏览器访客角色无法实现账号打通的能力，这一缺陷将在下次接入后端时弥补。</li><li>清除本地缓存时，会误删数据。</li></ul></li></ul><h3 id="美观的-ui-选型" tabindex="-1"><a class="header-anchor" href="#美观的-ui-选型" aria-hidden="true">#</a> 美观的 UI 选型</h3><p>由于原政采云登录页面是用内部基于 AntD 开发的组件库，为了保持视觉风格的统一，我选择了继续使用我们内部的组件库，每个团队也可以根据自己情况选择自己的组件库，或者开源的组件库，如 ant design，element ui 等。</p><h3 id="更便捷的交互设计" tabindex="-1"><a class="header-anchor" href="#更便捷的交互设计" aria-hidden="true">#</a> 更便捷的交互设计</h3><p>既然可以访问 Web 内容，那么最简便的操作就是不用触发任何其他的按钮打开弹层，直接 <strong>识别登录页面</strong>，在原有登录页面的空白处中 <strong>插入我们的组件 DOM 元素</strong>，就可以实现最便捷的操作。我们得到一个登录账号列表，不必透出密码，根据我们自己打的标签判断当前需要登录的账号，<strong>一键登录</strong>，代替手动操作。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a40261eaca464b5d85ce9e651c080896~tplv-k3u1fbpfcp-zoom-1.image" alt="image (1).png"></p><h2 id="项目搭建" tabindex="-1"><a class="header-anchor" href="#项目搭建" aria-hidden="true">#</a> 项目搭建</h2>',12),b=n("strong",null,".babelrc 、.gitignore、webpack.config.js",-1),v={href:"https://www.babeljs.cn/",target:"_blank",rel:"noopener noreferrer"},h={href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://webpack.docschina.org/",target:"_blank",rel:"noopener noreferrer"},f={href:"https://less.bootcss.com/",target:"_blank",rel:"noopener noreferrer"},_=t(`<h3 id="目录结构" tabindex="-1"><a class="header-anchor" href="#目录结构" aria-hidden="true">#</a> 目录结构</h3><div class="language-json line-numbers-mode" data-ext="json"><pre class="language-json"><code> .
 ├── README.md 
 ├── package-lock.json
 ├── package.json
 ├── src
 │   ├── assets # 存放扩展程序的标志图片
 │   ├── contentScript # 对 Web 文件的操作
 │   ├── manifest.json # Chrome Extension 的清单文件
 │   └── popup # 用于存放弹出层
 └── webpack.config.js
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="清单文件-manifest-json" tabindex="-1"><a class="header-anchor" href="#清单文件-manifest-json" aria-hidden="true">#</a> 清单文件 manifest.json</h3><p>这里是用来配置扩展程序的基础信息的文件</p><ul><li>name：扩展名，显示在我的扩展文件中</li><li>manifest_version：标记 manifest.json 文件的版本号。从 Chrome 18 版本起， manifest_version 需不小于 2， 并且，由于 manifest_version 为 3 的部分语法仅在 Chorme 88 以上支持，Edge、Firefox等其他浏览器都不支持，所以 manifest_version 为 2 是更多扩展程序的选择。</li><li>icons：扩展程序显示在右上角的图标，需要配置不同规格的图片，适应不同的显示需要。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token punctuation">{</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>name<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>Account Saver<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>description<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span> <span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>zcy 账号管理小精灵<span class="token operator">~</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> 
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>version<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token number">1.0</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> 
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>manifest_version<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> 
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>icons<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">{</span> 
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token number">16</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>assets<span class="token operator">/</span>icon<span class="token punctuation">.</span>png<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> 
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token number">48</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>assets<span class="token operator">/</span>icon<span class="token punctuation">.</span>png<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token number">96</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>assets<span class="token operator">/</span>icon<span class="token punctuation">.</span>png<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token number">128</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>assets<span class="token operator">/</span>icon<span class="token punctuation">.</span>png<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>browser_action<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>default_icon<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>assets<span class="token operator">/</span>icon<span class="token punctuation">.</span>png<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token comment">// 插件加载在浏览器右上角时的图标</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>default_title<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>账号管理小精灵<span class="token operator">~</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token comment">// hover 图标的提示文字</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>default_popup<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>popup<span class="token punctuation">.</span>html<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span> <span class="token comment">// 默认点击图标时弹出的浮层</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>permissions<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>tabs<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>activeTab<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>storage<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>notifications<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>background<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>persistent<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
     <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>scripts<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>background<span class="token punctuation">.</span>js<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">]</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>content_security_policy<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>script<span class="token operator">-</span>src <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>self<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>unsafe<span class="token operator">-</span>eval<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">;</span> object<span class="token operator">-</span>src <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>self<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token punctuation">,</span>
   <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>content_scripts<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token punctuation">{</span>
         <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>matches<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
             <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>http<span class="token operator">:</span><span class="token operator">/</span><span class="token comment">/*/*&amp;quot;,
             &amp;quot;https://*/</span><span class="token operator">*</span><span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>js<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token comment">// content script 文件</span>
           <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">/</span>popupListener<span class="token punctuation">.</span>js<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
         <span class="token punctuation">]</span><span class="token punctuation">,</span>
         <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>run_at<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span><span class="token operator">:</span> <span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>document_idle<span class="token operator">&amp;</span>quot<span class="token punctuation">;</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">]</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="webpack-config-js" tabindex="-1"><a class="header-anchor" href="#webpack-config-js" aria-hidden="true">#</a> webpack.config.js</h3><p>如下代码配置 webpack ，可以帮助我们编译打包 HTML、JavaScript 和 Less 编写的样式文件，打包静态资源，执行<code>npm run build</code> 获得打包好的 dist 文件，就可以分享到团队中了。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>path<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>webpack<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> CopyWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>copy<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> CleanWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>clean<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>html<span class="token operator">-</span>webpack<span class="token operator">-</span>plugin<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
   mode<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>development<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
   context<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>src<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   entry<span class="token operator">:</span> <span class="token punctuation">{</span>
     popup<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>popup<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
     background<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>background<span class="token operator">/</span>index<span class="token punctuation">.</span>js<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
     popupListener<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>contentScript<span class="token operator">/</span>popupListener<span class="token punctuation">.</span>js<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   output<span class="token operator">:</span> <span class="token punctuation">{</span>
     path<span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>dist<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     publicPath<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token operator">/</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
     filename<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">.</span>js<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   module<span class="token operator">:</span> <span class="token punctuation">{</span>
     rules<span class="token operator">:</span> <span class="token punctuation">[</span>
       <span class="token punctuation">{</span>
         test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.css$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         use<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>style<span class="token operator">-</span>loader<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>css<span class="token operator">-</span>loader<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span>
         test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.less$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         use<span class="token operator">:</span> <span class="token punctuation">[</span>
           <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>style<span class="token operator">-</span>loader<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
           <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>css<span class="token operator">-</span>loader<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
           <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>less<span class="token operator">-</span>loader<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span>
         test<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\\.(js|jsx)$</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         exclude<span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">node_modules</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
         use<span class="token operator">:</span> <span class="token punctuation">{</span>
           loader<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>babel<span class="token operator">-</span>loader<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
           options<span class="token operator">:</span> <span class="token punctuation">{</span>
             babelrc<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
             presets<span class="token operator">:</span> <span class="token punctuation">[</span>
               <span class="token comment">// 添加 preset-react 识别 react 代码 </span>
               require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>@babel<span class="token operator">/</span>preset<span class="token operator">-</span>react<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               require<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>@babel<span class="token operator">/</span>preset<span class="token operator">-</span>env<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
               <span class="token punctuation">{</span>
                 plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>@babel<span class="token operator">/</span>plugin<span class="token operator">-</span>proposal<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>properties<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
               <span class="token punctuation">}</span><span class="token punctuation">,</span>
             <span class="token punctuation">]</span><span class="token punctuation">,</span>
             cacheDirectory<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
           <span class="token punctuation">}</span><span class="token punctuation">,</span>
         <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">]</span><span class="token punctuation">,</span>
   <span class="token punctuation">}</span><span class="token punctuation">,</span>
   plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
     <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
       title<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>popup<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
       template<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>popup<span class="token operator">/</span>index<span class="token punctuation">.</span>html<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
       inject<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
       chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>popup<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
       filename<span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>popup<span class="token punctuation">.</span>html<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span>
     <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>dist<span class="token operator">/</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">.</span><span class="token operator">/</span>zip<span class="token operator">/</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
     <span class="token keyword">new</span> <span class="token class-name">CopyWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>assets<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>assets<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
       <span class="token punctuation">{</span> <span class="token literal-property property">from</span><span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>manifest<span class="token punctuation">.</span>json<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token literal-property property">to</span><span class="token operator">:</span> <span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>manifest<span class="token punctuation">.</span>json<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token literal-property property">flatten</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
     <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
   <span class="token punctuation">]</span><span class="token punctuation">,</span>
 <span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="核心代码" tabindex="-1"><a class="header-anchor" href="#核心代码" aria-hidden="true">#</a> 核心代码</h2><h3 id="content-script" tabindex="-1"><a class="header-anchor" href="#content-script" aria-hidden="true">#</a> Content Script</h3><p>Content Scripts 是运行在Web页面的上下文的 JavaScript 文件。通过标准的 DOM，Content Scripts 可以操作（读取并修改）浏览器当前访问的Web页面的内容，并将信息传递给父扩展。</p><h3 id="插入浮层" tabindex="-1"><a class="header-anchor" href="#插入浮层" aria-hidden="true">#</a> 插入浮层</h3><p>在此我们通过原生 JavaScript 的 <code>createElement()</code> 和 <code>append()</code> 方法向 body 中追加元素，插入浮层。</p><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>
 <span class="token keyword">const</span> <span class="token punctuation">{</span> domain <span class="token punctuation">}</span> <span class="token operator">=</span> document<span class="token punctuation">;</span>
 <span class="token keyword">const</span> isZcy <span class="token operator">=</span> domain<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>zcy<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> userDom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>username<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

 <span class="token keyword">if</span> <span class="token punctuation">(</span>isZcy <span class="token operator">&amp;</span>amp<span class="token punctuation">;</span><span class="token operator">&amp;</span>amp<span class="token punctuation">;</span> userDom<span class="token punctuation">)</span> <span class="token punctuation">{</span>
   <span class="token comment">// 域名为政采云域名，且存在 name = username 的元素（输入框）时，在页面左侧插入一个浮层</span>
   <span class="token keyword">const</span> body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>body<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
   <span class="token keyword">const</span> panelWrapper <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>div<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

   ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>lt<span class="token punctuation">;</span>AccountPanel <span class="token operator">/</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span><span class="token punctuation">,</span> panelWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
   body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>panelWrapper<span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="一键登录-1" tabindex="-1"><a class="header-anchor" href="#一键登录-1" aria-hidden="true">#</a> 一键登录</h3><p>Event()</p>`,17),q={href:"https://developer.mozilla.org/zh-CN/docs/Web/API/Event",target:"_blank",rel:"noopener noreferrer"},x=t(`<div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code>event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span>typeArg<span class="token punctuation">,</span> eventInit<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// typeArg 是DOMString 类型，表示所创建事件的名称。</span>
<span class="token comment">// eventInit 可选，接受以下字段：</span>
<span class="token comment">// bubbles 是否支持冒泡，cancelable：能否被取消，composed：事件是否会触发shadow DOM（阴影DOM）根节点之外的事件监听器</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>target.dispatchEvent(event)</p><ul><li>向一个指定的事件目标派发一个事件，从而触发监听函数的执行。该方法返回一个布尔值，只要有一个监听函数调用了 target.dispatchEvent 则返回 false，否则返回 true。</li></ul><div class="language-javascript line-numbers-mode" data-ext="js"><pre class="language-javascript"><code> <span class="token keyword">const</span> usernameDom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>username<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> passwordDom <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>password<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token keyword">const</span> <span class="token punctuation">{</span> accountList <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">;</span>
 <span class="token keyword">const</span> <span class="token punctuation">{</span> username<span class="token punctuation">,</span> password <span class="token punctuation">}</span> <span class="token operator">=</span> accountList<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&amp;</span>gt<span class="token punctuation">;</span> item<span class="token punctuation">.</span>username <span class="token operator">===</span> handleUsername<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// 未来可能会废弃的写法</span>
 <span class="token comment">// const evt = document.createEvent(&amp;#39;HTMLEvents&amp;#39;);</span>
 <span class="token comment">// evt.initEvent(&amp;#39;input&amp;#39;, true, true);</span>

 <span class="token comment">// ie 不支持</span>
 <span class="token keyword">const</span> evt <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Event</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>input<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">bubbles</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">// 将值填入 dom 输入框里</span>
 usernameDom<span class="token punctuation">.</span>value <span class="token operator">=</span> username<span class="token punctuation">;</span>
 usernameDom<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>
 passwordDom<span class="token punctuation">.</span>value <span class="token operator">=</span> password<span class="token punctuation">;</span>
 passwordDom<span class="token punctuation">.</span><span class="token function">dispatchEvent</span><span class="token punctuation">(</span>evt<span class="token punctuation">)</span><span class="token punctuation">;</span>
 
 <span class="token comment">// 模拟用户点击登录按钮</span>
 <span class="token keyword">const</span> loginBtn <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span><span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span>login<span class="token operator">-</span>btn<span class="token operator">&amp;</span>#<span class="token number">39</span><span class="token punctuation">;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
 loginBtn<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="开发辅助" tabindex="-1"><a class="header-anchor" href="#开发辅助" aria-hidden="true">#</a> 开发辅助</h2><h3 id="一键重载-extensions-reloader" tabindex="-1"><a class="header-anchor" href="#一键重载-extensions-reloader" aria-hidden="true">#</a> 一键重载：Extensions Reloader</h3>`,6),j=n("code",null,"chrome://extensions/",-1),y={href:"https://chrome.google.com/webstore/detail/extensions-reloader/fimgfedafeadlieiabdeeaodndnlbhid?hl=zh-CN",target:"_blank",rel:"noopener noreferrer"},w=n("p",null,[n("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/4e8e1e3899bc4724b64ecff63b327db9~tplv-k3u1fbpfcp-zoom-1.image",alt:"image (2).png"})],-1),C=n("p",null,[n("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a6d1a80c288f47c3adc4d8411acb9587~tplv-k3u1fbpfcp-zoom-1.image",alt:"image (3).png"})],-1),E=n("h3",{id:"安装扩展文件",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#安装扩展文件","aria-hidden":"true"},"#"),s(" 安装扩展文件")],-1),z=n("strong",null,"Chrome 应用市场",-1),D=n("strong",null,"本地",-1),S=n("strong",null,"开发者模式",-1),W=n("strong",null,"加载已解压的扩展程序",-1),L=t('<h2 id="下一阶段" tabindex="-1"><a class="header-anchor" href="#下一阶段" aria-hidden="true">#</a> 下一阶段</h2><h3 id="目标" tabindex="-1"><a class="header-anchor" href="#目标" aria-hidden="true">#</a> 目标</h3><ul><li>将数据存储到后端，避免数据丢失问题。</li><li>将数据共享到前端 VSCode 插件上，提供给快速本地代理使用。</li><li>新增用户登录功能，打通同一使用者访客身份数据共用问题。</li><li>隔离业务小组，避免 Tag 混用、全量账号查找不便问题。</li><li>一键打开 Chrome 访客身份并登录，同时操作多个账号，方便测试使用。</li></ul><p>设计方向：对插件的使用者增加登录功能，登录通过 <strong>域账号-密码-业务小组</strong> 圈定一个范围，同一个 <strong>业务小组共享</strong> 测试账号、绑定的业务标签、业务小组关联的应用。前端本地开发时，项目获得的账号通过当前应用所属的业务小组拉取。</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7711b5f8145e4e128aefe002cee82d8b~tplv-k3u1fbpfcp-zoom-1.image" alt="image (5).png"></p><h3 id="e-r-图设计" tabindex="-1"><a class="header-anchor" href="#e-r-图设计" aria-hidden="true">#</a> E-R 图设计</h3><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/38d89831351648d39dc544e1f82e1d32~tplv-k3u1fbpfcp-zoom-1.image" alt="image (6).png"></p><h2 id="参考文档" tabindex="-1"><a class="header-anchor" href="#参考文档" aria-hidden="true">#</a> 参考文档</h2>',8),P={href:"https://developer.chrome.com/docs/extensions/mv3/getstarted/",target:"_blank",rel:"noopener noreferrer"},B=n("h2",{id:"推荐阅读",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#推荐阅读","aria-hidden":"true"},"#"),s(" 推荐阅读")],-1),I={href:"https://juejin.cn/post/7002746459456176158",target:"_blank",rel:"noopener noreferrer"},M={href:"https://juejin.cn/post/6997536906967777316",target:"_blank",rel:"noopener noreferrer"},T={href:"https://juejin.cn/post/7013131773756309517",target:"_blank",rel:"noopener noreferrer"},A={href:"https://juejin.cn/post/7018296556323340324",target:"_blank",rel:"noopener noreferrer"},N=n("h2",{id:"开源作品",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#开源作品","aria-hidden":"true"},"#"),s(" 开源作品")],-1),R=n("ul",null,[n("li",null,"政采云前端小报")],-1),O={href:"https://www.zoo.team/openweekly/",target:"_blank",rel:"noopener noreferrer"},V=n("ul",null,[n("li",null,"skuDemo")],-1),H={href:"https://github.com/zcy-inc/skuPathFinder-back",target:"_blank",rel:"noopener noreferrer"},J=n("h2",{id:"招贤纳士",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#招贤纳士","aria-hidden":"true"},"#"),s(" 招贤纳士")],-1),U=n("p",null,"政采云前端团队（ZooTeam），一个年轻富有激情和创造力的前端团队，隶属于政采云产品研发部，Base 在风景如画的杭州。团队现有 50 余个前端小伙伴，平均年龄 27 岁，近 3 成是全栈工程师，妥妥的青年风暴团。成员构成既有来自于阿里、网易的“老”兵，也有浙大、中科大、杭电等校的应届新人。团队在日常的业务对接之外，还在物料体系、工程平台、搭建平台、性能体验、云端应用、数据分析及可视化等方向进行技术探索和实战，推动并落地了一系列的内部技术产品，持续探索前端技术体系的新边界。",-1),Z=n("p",null,[s("如果你想改变一直被事折腾，希望开始能折腾事；如果你想改变一直被告诫需要多些想法，却无从破局；如果你想改变你有能力去做成那个结果，却不需要你；如果你想改变你想做成的事需要一个团队去支撑，但没你带人的位置；如果你想改变既定的节奏，将会是“5 年工作时间 3 年工作经验”；如果你想改变本来悟性不错，但总是有那一层窗户纸的模糊… 如果你相信相信的力量，相信平凡人能成就非凡事，相信能遇到更好的自己。如果你希望参与到随着业务腾飞的过程，亲手推动一个有着深入的业务理解、完善的技术体系、技术创造价值、影响力外溢的前端团队的成长历程，我觉得我们该聊聊。任何时间，等着你写点什么，发给 "),n("code",null,"ZooTeam@cai-inc.com")],-1),F=n("p",null,[n("img",{src:"https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/98d3aa3d1f8646a8bcda8cfd9e335a4b~tplv-k3u1fbpfcp-zoom-1.image",alt:""})],-1);function $(G,K){const p=e("ExternalLinkIcon"),o=e("RouterLink");return l(),u("div",null,[k,n("p",null,[s("既然是代替用户进行浏览器页面的登录，我们当然可以选择 "),n("a",d,[s("Chrome Extension （扩展程序）"),a(p)]),s("来解决这一难题。")]),m,n("p",null,[s("我们建一个空项目，配置必要的 "),b,s(" 文件，使得文件可以支持 "),n("a",v,[s("Babel"),a(p)]),s("、"),n("a",h,[s("Git"),a(p)]),s("、"),n("a",g,[s("Webpack"),a(p)]),s(" 的正常使用，安装 "),n("a",f,[s("Less"),a(p)]),s(" 以及相关的 loader 方便我们的开发，目录结构大致如下：")]),_,n("ul",null,[n("li",null,[s("构造函数，创建一个新的事件对象 "),n("a",q,[s("Event"),a(p)]),s("。该方法 IE 浏览器不支持。")])]),x,n("p",null,[s("即使 Webpack 配置了热更新，插件打包出来的 JavaScript 代码更新后也是不能热加载的，我们可以访问 "),j,s(" 点击下图中的小按钮重新加载，或者安装 "),n("a",y,[s("Extensions Reloader"),a(p)]),s(" 插件，点击按钮进行重新加载。")]),w,C,E,n("p",null,[s("Chrome 允许安装 "),z,s("和"),D,s("文件两种来源的扩展文件。访问 "),a(o,{to:"chrome://extensions/"},{default:i(()=>[s("chrome://extensions/")]),_:1}),s(" ，打开 "),S,s("，点击 "),W,s("，就可以选中我们本地的文件了，Edge 等浏览器也可以用。")]),L,n("p",null,[n("a",P,[s("Chrome Developers"),a(p)])]),B,n("p",null,[n("a",I,[s("电商最小存货 - SKU 和 算法实现"),a(p)])]),n("p",null,[n("a",M,[s("你需要知道的项目管理知识"),a(p)])]),n("p",null,[n("a",T,[s("浏览器渲染之回流重绘"),a(p)])]),n("p",null,[n("a",A,[s("防抖节流场景及应用"),a(p)])]),N,R,n("p",null,[n("strong",null,[s("开源地址 "),n("a",O,[s("www.zoo.team/openweekly/"),a(p)])]),s(" (小报官网首页有微信交流群)")]),V,n("p",null,[n("strong",null,[s("开源地址 "),n("a",H,[s("https://github.com/zcy-inc/skuPathFinder-back/"),a(p)])])]),J,U,Z,F])}const Y=c(r,[["render",$],["__file","设计和实现一个 Chrome 插件提升登录效率.html.vue"]]);export{Y as default};
